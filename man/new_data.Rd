% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/new-data.R
\name{new_data}
\alias{new_data}
\title{New Data}
\usage{
new_data(data, seq = character(0), ref = list(), obs_only = FALSE,
  length_out = 30L)
}
\arguments{
\item{data}{The data frame to generate the new data from.}

\item{seq}{A character vector of the variables to represent as a sequence in the new data.}

\item{ref}{A named list of reference values for variables that are not in seq.}

\item{obs_only}{A flag indicating whether to only allow observed combinations of factor levels in the new data.}

\item{length_out}{A count indicating the length sequences.}
}
\value{
A tibble of the new data.
}
\description{
Generates a new data frame that can be passed to a predict function.
The main idea is that most variables are held constant at a reference level
while the variables of interest vary across their range.
\code{new_data} can be thought of as a sophisticated version of \code{\link{expand.grid}}.
}
\details{
The returned variables are of the same class as the original variables while
the rows in the data frame are unique. Consequently continuous variables such as integers
which have discrete values will not attain the specified \code{length_out} value if
there are two few possible values between the minimum and maximum.

If a factor is named in seq then all levels of the factor are represented i.e.
\code{length_out} is ignored. The only exception to this is if \code{obs_only = TRUE}
in which case only observed factor levels are permitted in sequences.
If multiple factors occur as sequences only observed combinations of those factors are permitted.

It is worth noting that \code{ref} can be used to specify sequences for particular values as well
as single references. It is useful for extrapolating outside the range of the data.
}

